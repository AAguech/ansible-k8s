---

- name: Create a directory if it does not exist
  ansible.builtin.file:
    path: /home/kub/amira
    state: directory
    mode: '0755'

- name: Log into DockerHub
  docker_login:
    username: aguech
    password: Lasmar.eline2021
    email: amira.aguech.lasmar@gmail.com

- name: pull an image
  docker_image:
    name: https://hub.docker.com/_/hello-world
    pull: yes
    #username: aguech
   # password: Lasmar.eline2021

- name: Build an image and push it to a private repo
  docker_image:
    path: hello-world
    name: docker push sncf.jfrog.io/docker-amira-local/hello-world
    tag: v1
    push: yes